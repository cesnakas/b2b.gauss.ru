### Оглавление ###

        
* **Frontend**
   * [Сборка проекта](frontend/sborka.md) 
   
* **Backend**
   * [Модуль ядра](backend/core.md)   
   * [Модуль для кэширования данных (citfact.datacahe)](local/modules/citfact.datacache/README.MD)
   * Каталог товаров
       * [Контрагенты](backend/catalog/contragents.md)
       * [Ценообразование](backend/catalog/prices.md)
   * Компоненты
       * [citfact:mail.buffer.template - шаблоны писем](backend/components/citfact.mail.buffer.template.md)
   * Пользователи
       * [Обработчики событий для пользователей](backend/user/usersubscribers.md)
       
   * Обработчики
       * [Список обработчиков](backend/eventlistener/list.md)
    
* **Выгрузки**
    * **1C**
        * [Обработчики](import/1c/eventlistener.md)
    
* **Cron**
    * [Техническая документация](cron/techdoc.md)
    * [Популярные товары](cron/popularityitems.md)
    * [Изображения](cron/pictures.md)
    * [Настройка рассылок e-mail](cron/subscription.md)
        
        
        
Что интересного:

1) в app.js добавили initEvent App.Ready
можно юзать не $(document).ready, а document.addEventListener('App.Ready');

2) Сохранение корзины с описанием.
На странице сохранения возможность менять количество элементов добавляемых в корзину.
Возможность оформить заказ с возвращением предыдущей корзины


3) при массовом добавлении в корзину, выводится корзина добавленных элементов с возможностью редактирования

4) страница прайс-листы: можно выгрузить товары в excel или pdf по разделам

5) setBasketItemsOnLoad необходимо перенести в болванку (local/modules/citfact.sitecore/lib/order/basket.php)

6) При регистрации нового пользователя, указывается ИНН, по которому ищется контрагент в справочнике "Контрагенты". Если контрагент найден, то менеджеру, который привязан к контрагентку, и его ассистентам отправляется письмо о регистрации нового пользователяю. Если контрагент не найден, то идет поиск главного менеджера по региону, который пользователь также указывает при регистрации, и ему отправляется письмо. Если не найден главный менеджер, то идет поиск всех менеджеров в данном регионе и письмо отсылается им. В случае, если ни одного менеджера не было найдено, письмо отправляется администратору сайта.

7) В файле vendor/phpoffice/phpspreadsheet/src/PhpSpreadsheet/Worksheet/Worksheet.php для метода rangeToArray добавлено ограничение для максимального количества строк.